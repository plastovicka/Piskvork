<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<meta name="description" content="Soutez v programovani piskvorek Gomocup">
<meta name="author" content="Vojta Havránek">
<meta name="language" content="Czech">
<title>Komunikace UI pøes soubory</title>
<link rel="stylesheet" type="text/css" href="../styl.css">
</head>

<body>
<h1>Starı protokol</h1>

<p align="center">
  <a href="info.htm"><span class="bigbutton">Zpìt na informace</span></a>
  <br>
</p>


<br>
<h3><em>Tento protokol je ji zastaralı.</em> Novı manaer ho sice stále podporuje, ale tvoøíte-li novou umìlou inteligenci, doporuèujeme vám pouít <a href="http://web.quick.cz/lastp/protocl2.htm">novı protokol</a>.</h3>
<br>

<p>
Umìlá inteligence(UI) komunikuje s manaerem(programem, kterı zprostøedkovává zápas) pøes datové soubory. PLOCHA.DAT obsahuje informace o hrací ploše a TAH.DAT má dvì podoby. V prvni obsahuje informaci
od manaeru pro UI, v druhé podobì informaci od UI pro manaer. Protokol dále obsahuje soubor TIMEOUTS.DAT, kterı obsahuje informace o èasovıch limitech. Nepovinné rozšíøení protokolu zahrnuje také soubor MSG.DAT a INFO.DAT.</p>

<p class="vetsi"><em>PLOCHA.DAT:</em></p>

<p>Obsahuje záznam hrací plochy. Soubor má tolik neprázdnıch øádkù a tolik sloupcù (znakù na kadém øádku), jaká je velikost plochy. Brain by mìl pøi ètení souboru tuto velikost sám zjišovat. Prázdná pole
jsou reprezentovaná znakem pomlèky (-). První hráè vdy
hraje za køíky, které jsou zaznamenány znakem malé x (x).
Druhému hráèi pøipadají koleèka, která se zapisují jako
malé o (o). Pozn: (o) se zapíše bez závorek. Platí i pro
obdobné zápisy. Pøíklad souboru PLOCHA.DAT s velikostí 20 krát 20:<br>

<pre><code>
---x-x--------------
----x-o---x---------
-----xxoooox--------
------x-o-----------
------xoooxo--------
--------x-x---------
--------------------
-------------------x
------o---oxoo-----o
----xooo-x----------
------xox-----------
-------xo-----------
------xoxx----------
-----o--------------
--------------------
ooox----------------
---x----------------
-x-x----------xoo-x-
--------------------
--------------------</code></pre>

<p>
Tento soubor edituje pouze manaer a UI ho smí pouze naèíst k
získání obrazu o stavu hrací plochy.<br>
</p>

<p class="vetsi"><em>TAH.DAT:</em></p>
<p>Ne manaer spustí nìjakou
UI, tak zapíše do souboru TAH.DAT jeden znak (buï (x),nebo
(o)), co znamená za jakého hráèe má UI vymyslet tah. Kdy
je tah vymyšlen, pøepíše UI tento soubor do formátu (x,y).
To jsou souøadnice, kam chce UI umístit znak. Hrací plocha je
èíslována od levého horního rohu, pøièem první pole
nahoøe vlevo má souøadnice [0,0]. <em>POZOR: hodnota x i hodnota y
je v rozmezí 0-19, nikoliv v rozmezí 1-20.</em> Manaer tah
vyhodnotí a opìt zapíše do souboru TAH.DAT (x), nebo (o).</p>

<p class="vetsi"><em>TIMEOUTS.DAT:</em></p>
<p>
Program Gomotur generuje soubor timeouts.dat, kam textovì zapisuje na první øádek èasovı limit na tah v sekundách a na druhı, kolik zbıvá do konce partie v milisekundách(pokud není zaškrtnuto, aby se vyhodnocoval
TO, píše tam MaxInt 2^31). Nulová hodnota èasu na tah znamená, e brain má odpovìdìt pokud mono co nejdøíve (mìl by napøíklad jenom spoèítat ohodnocovací funkci a u neprohledávat do hloubky všechny moné tahy). Èasové limity jsou stanoveny v pravidlech turnaje.
</p>

<p class="vetsi"><em>MSG.DAT:</em></p>
<p>
Pokud chcete, mùete tento soubor pouít k tomu, aby brain bìhem hry posílal manaeru textové zprávy, které manaer loguje (napø. pro ladìní nebo pro pobavení).
Funguje to jednoduše a to sice:<br>
0. Manaer vytvoøí prázdnı soubor msg.dat<br>
1. Brain zapíše tah do souboru tah.dat a jednoøádkovou message do msg.dat (Manaer P. Laštovièky umoòuje i víceøádkovou)<br>
2. Brain se ukonèí<br>
3. Manaer pøeète tah.dat a msg.dat<br>
4. Manaer vymae msg.dat, provede tah a zobrazí message
5. Dál je to stejné, hraje soupeø jako obvykle
</p>

<p class="vetsi"><em>INFO.DAT:</em></p>
<p>
Manaer P. Laštovièky navíc vytváøí i soubor info.dat, kde kadı øádek je ve tvaru [klíè] [hodnota]. Obsahuje stejné údaje jako INFO pøíkazy u <a href="http://web.quick.cz/lastp/protocl2.htm">nového protokolu</a>.
</p>

</body>
</html>